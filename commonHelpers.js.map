{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(query) {\n  const params = new URLSearchParams({\n    key: '43027041-c13525989a1527b0b019a35b5',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `https://pixabay.com/api/?${params}`;\n\n  return fetch(url);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function imageTemplate(image) {\n  return `<li class=\"image-items\">\n        <a class=\"image-link\" href=\"${image.largeImageURL}\"></a>\n        <img\n          src=\"${image.webformatURL}\"\n          alt=\"${image.tags}\"\n          class=\"photo-image\"\n        />\n        <div class=\"image-info\">\n          <p><span class=\"accent\">Likes</span>${image.likes}</p>\n\n          <p><span class=\"accent\">Views</span>${image.views}</p>\n\n          <p><span class=\"accent\">Comments</span>${image.comments}</p>\n\n          <p><span class=\"accent\">Downloads</span>${image.downloads}</p>\n        </div>\n      </li>`;\n}\n\nexport function renderImages(arr) {\n  const searchResults = document.querySelector('#search-results');\n  searchResults.innerHTML = arr.map(imageTemplate).join('');\n\n  let lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.on('show.simplelightbox', function () {});\n  lightbox.refresh();\n}\n//\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nexport const refs = {\n  searchForm: document.querySelector('.search-form'),\n  inputSearch: document.querySelector('.input-search'),\n  gallery: document.querySelector('.gallery'),\n};\n\nfunction showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message,\n    position: 'topRight',\n  });\n}\n\nfunction clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n\nrefs.searchForm.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const nameId = event.target.elements.name.value.trim();\n  if (nameId === '') {\n    showError(\n      'Sorry, there are no images matching your search query. Please try again!'\n    );\n    clearGallery();\n  } else {\n    getImages(nameId)\n      .then(res => {\n        if (!res.ok) {\n          showError('Request failed. try again later');\n        }\n        clearGallery();\n        return res.json();\n      })\n      .then(data => {\n        if (data.hits.length == 0) {\n          showError(\n            'Sorry, there are no images matching your search query. Please try again!'\n          );\n          clearGallery();\n        } else {\n          renderImages(data.hits);\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n  event.target.elements.name.value = '';\n}\n"],"names":["getImages","query","url","imageTemplate","image","renderImages","arr","searchResults","lightbox","SimpleLightbox","refs","showError","message","iziToast","clearGallery","handleSubmit","event","nameId","res","data","error"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CAQ/B,MAAMC,EAAM,4BAPG,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CAC6C,GAE9C,OAAO,MAAMC,CAAG,CAClB,CCRO,SAASC,EAAcC,EAAO,CACnC,MAAO;AAAA,sCAC6BA,EAAM,aAAa;AAAA;AAAA,iBAExCA,EAAM,YAAY;AAAA,iBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,gDAIqBA,EAAM,KAAK;AAAA;AAAA,gDAEXA,EAAM,KAAK;AAAA;AAAA,mDAERA,EAAM,QAAQ;AAAA;AAAA,oDAEbA,EAAM,SAAS;AAAA;AAAA,YAGnE,CAEO,SAASC,EAAaC,EAAK,CAChC,MAAMC,EAAgB,SAAS,cAAc,iBAAiB,EAC9DA,EAAc,UAAYD,EAAI,IAAIH,CAAa,EAAE,KAAK,EAAE,EAExD,IAAIK,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAG,EACDD,EAAS,GAAG,sBAAuB,UAAY,CAAE,CAAA,EACjDA,EAAS,QAAO,CAClB,CC3BO,MAAME,EAAO,CAClB,WAAY,SAAS,cAAc,cAAc,EACjD,YAAa,SAAS,cAAc,eAAe,EACnD,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEA,SAASC,EAAUC,EAAS,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QAAAD,EACA,SAAU,UACd,CAAG,CACH,CAEA,SAASE,GAAe,CACtBJ,EAAK,QAAQ,UAAY,EAC3B,CAEAA,EAAK,WAAW,iBAAiB,SAAUK,CAAY,EAEvD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAASD,EAAM,OAAO,SAAS,KAAK,MAAM,OAC5CC,IAAW,IACbN,EACE,0EACN,EACIG,KAEAd,EAAUiB,CAAM,EACb,KAAKC,IACCA,EAAI,IACPP,EAAU,iCAAiC,EAE7CG,IACOI,EAAI,OACZ,EACA,KAAKC,GAAQ,CACRA,EAAK,KAAK,QAAU,GACtBR,EACE,0EACZ,EACUG,KAEAT,EAAac,EAAK,IAAI,CAEhC,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAO,EAELJ,EAAM,OAAO,SAAS,KAAK,MAAQ,EACrC"}